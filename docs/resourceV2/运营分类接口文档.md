**创建运营分类** <font color='blue'>**/v2/resources/operation-categories/create**</font>	**POST**	**JSON**

| 参数名     | 参数类型                           | 参数描述                         | 必选 |
| ---------- | ---------------------------------- | -------------------------------- | ---- |
| name       | string                             | 名称                             | 是   |
| parentCode | string                             | 父类型编号，没有父类型填空字符串 | 是   |
| sources    | {"identity":string, type:number}[] | 映射数组                         | 否   |
| priority   | number                             | 权重                             | 是   |
| status     | number                             | 状态 1：开启 2：停用             | 是   |
| startTime  | Date                               | 开启时间                         | 否   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": null
}
```



**列出运营分类** <font color='blue'>**/v2/resources/operation-categories/list**</font>	**GET**	**QUERY**

| 参数名     | 参数类型 | 参数描述             | 必选 |
| ---------- | -------- | -------------------- | ---- |
| skip       | number   | 跳过的数目           | 是   |
| limit      | number   | 查询的数目           | 是   |
| status     | number   | 状态 1：启用 2：停用 | 否   |
| parentCode | string   | 父类型编号           | 否   |
| name       | string   | 名称                 | 否   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": {
    "num": 6,
    "operationCategories": {
      "skip": 0,
      "limit": 10,
      "totalItem": 6,
      "dataList": [
        {
          "parentCode": "",
          "resourceCount": 0,
          "_id": "63f46d812ded492f6ccf4b18",
          "code": "RT0002",
          "name": "摄影",
          "sources": [
            {
              "parentCodeChain": [
                "RT003"
              ],
              "parentChain": [
                {
                  "code": "RT003",
                  "name": "test0"
                }
              ],
              "identity": "RT003",
              "name": "test0",
              "type": 1
            },
            {
              "parentCodeChain": [
                "RT0008001",
                "RT0008"
              ],
              "parentChain": [
                {
                  "code": "RT0008001",
                  "name": "test111"
                },
                {
                  "code": "RT0008",
                  "name": "test11"
                }
              ],
              "identity": "RT0008001",
              "name": "test111",
              "type": 1
            }
          ],
          "priority": 1,
          "status": 1,
          "startTime": "2023-02-20T16:00:00.000Z",
          "createDate": "2023-02-21T07:06:41.420Z",
          "updateDate": "2023-03-06T09:23:57.150Z"
        },
        {
          "parentCode": "",
          "resourceCount": 0,
          "_id": "6400410a460621002fa881cc",
          "code": "OC002",
          "name": "test",
          "sources": [
            {
              "parentCodeChain": [],
              "parentChain": [],
              "identity": "62383e9a2a1660002e5a6458",
              "name": "test111",
              "type": 3
            },
            {
              "parentCodeChain": [],
              "parentChain": [],
              "identity": "632d720bbb4c5d003a7c8a30",
              "name": "1414",
              "type": 3
            },
            {
              "parentCodeChain": [
                "RT003"
              ],
              "parentChain": [
                {
                  "code": "RT003",
                  "name": "test0"
                }
              ],
              "identity": "RT003",
              "name": "test0",
              "type": 1
            }
          ],
          "priority": 1,
          "status": 1,
          "createDate": "2023-03-02T06:24:10.524Z",
          "updateDate": "2023-03-06T09:19:52.637Z",
          "startTime": null
        },
        {
          "parentCode": "OC002",
          "resourceCount": 0,
          "_id": "64004253460621002fa8823d",
          "code": "OC002001",
          "name": "test1",
          "sources": [],
          "priority": 1,
          "status": 1,
          "createDate": "2023-03-02T06:29:39.867Z",
          "updateDate": "2023-03-02T06:45:32.466Z",
          "startTime": null,
          "parentName": "test"
        },
        {
          "parentCode": "OC002001",
          "resourceCount": 0,
          "_id": "64004614460621002fa885c6",
          "code": "OC002001001",
          "name": "test01",
          "sources": [],
          "priority": 2,
          "status": 2,
          "createDate": "2023-03-02T06:45:40.512Z",
          "updateDate": "2023-03-02T06:46:36.716Z",
          "startTime": null,
          "parentName": "test1"
        },
        {
          "parentCode": "OC002001",
          "resourceCount": 0,
          "_id": "64004628460621002fa8860f",
          "code": "OC002001002",
          "name": "test02",
          "sources": [],
          "priority": 3,
          "status": 2,
          "createDate": "2023-03-02T06:46:00.745Z",
          "updateDate": "2023-03-02T06:46:42.456Z",
          "startTime": null,
          "parentName": "test1"
        },
        {
          "parentCode": "OC002001",
          "resourceCount": 0,
          "_id": "6405982a35b161002f54dbbf",
          "code": "OC002001003",
          "name": "test03",
          "sources": [
            {
              "parentCodeChain": [
                "RT0004002001001",
                "RT0004002001",
                "RT0004002",
                "RT0004"
              ],
              "parentChain": [
                {
                  "code": "RT0004002001001",
                  "name": "玩具"
                },
                {
                  "code": "RT0004002001",
                  "name": "图片2"
                },
                {
                  "code": "RT0004002",
                  "name": "摄影6"
                },
                {
                  "code": "RT0004",
                  "name": "图片"
                }
              ],
              "identity": "RT0004002001001",
              "name": "玩具",
              "type": 1
            },
            {
              "parentCodeChain": [
                "RT0008001",
                "RT0008"
              ],
              "parentChain": [
                {
                  "code": "RT0008001",
                  "name": "test111"
                },
                {
                  "code": "RT0008",
                  "name": "test11"
                }
              ],
              "identity": "RT0008001",
              "name": "test111",
              "type": 1
            },
            {
              "parentCodeChain": [
                "RT0005"
              ],
              "parentChain": [
                {
                  "code": "RT0005",
                  "name": "摄影"
                }
              ],
              "identity": "RT0005",
              "name": "摄影",
              "type": 1
            },
            {
              "parentCodeChain": [
                "RT0004003",
                "RT0004"
              ],
              "parentChain": [
                {
                  "code": "RT0004003",
                  "name": "摄影7"
                },
                {
                  "code": "RT0004",
                  "name": "图片"
                }
              ],
              "identity": "RT0004003",
              "name": "摄影7",
              "type": 1
            }
          ],
          "priority": 3,
          "status": 1,
          "createDate": "2023-03-06T07:37:14.775Z",
          "updateDate": "2023-03-06T09:27:54.562Z",
          "startTime": null,
          "parentName": "test1"
        }
      ]
    }
  }
}
```

**结构参数：**

| 参数名        | 参数类型                                                     | 参数描述             |
| ------------- | ------------------------------------------------------------ | -------------------- |
| parentCode    | string                                                       | 父类型编号           |
| parentName    | string                                                       | 父类型名称           |
| code          | string                                                       | 编号                 |
| name          | string                                                       | 名称                 |
| sources       | {"identity":string," type":number,"name":string,"parentCodeChain":string[],"parentChain":{}[]}[] | 映射数组             |
| resourceCount | number                                                       | 关联的资源数         |
| priority      | number                                                       | 权重                 |
| status        | number                                                       | 状态 1：开启 2：停用 |
| startTime     | Date                                                         | 开启时间             |



**编辑运营分类** <font color='blue'>**/v2/resources/operation-categories/update**</font>	**POST**	**JSON**

| 参数名     | 参数类型                           | 参数描述             | 必选 |
| ---------- | ---------------------------------- | -------------------- | ---- |
| code       | string                             | 编号                 | 是   |
| name       | string                             | 名称                 | 是   |
| parentCode | string                             | 父类型编号           | 是   |
| sources    | {"identity":string, type:number}[] | 映射数组             | 是   |
| priority   | number                             | 权重                 | 是   |
| status     | number                             | 状态 1：开启 2：停用 | 是   |
| startTime  | Date                               | 开启时间             | 否   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": null
}
```



**简单根据父类型列出运营分类** <font color='blue'>**/v2/resources/operation-categories/listSimpleByParentCode**</font>	**GET**	**QUERY**

| 参数名     | 参数类型 | 参数描述   | 必选 |
| ---------- | -------- | ---------- | ---- |
| parentCode | string   | 父类型编号 | 是   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": [
    {
      "_id": "63f487424c0d601b5cdb829f",
      "code": "RT0003",
      "name": "高清"
    }
  ]
}
```

**结构参数：**

| 参数名 | 参数类型 | 参数描述     |
| ------ | -------- | ------------ |
| code   | string   | 资源类型编号 |
| name   | string   | 名称         |



**取某运营分类的映射** <font color='blue'>**/v2/resources/operation-categories/getSourcesByCode**</font>	**GET**	**QUERY**

| 参数名 | 参数类型 | 参数描述     | 必选 |
| ------ | -------- | ------------ | ---- |
| code   | string   | 运营分类编号 | 是   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": [
    {
      "parentCodeChain": [
        "RT003"
      ],
      "parentChain": [
        {
          "code": "RT003",
          "name": "test0"
        }
      ],
      "identity": "RT003",
      "name": "test0",
      "type": 1
    },
    {
      "parentCodeChain": [
        "RT0008001",
        "RT0008"
      ],
      "parentChain": [
        {
          "code": "RT0008001",
          "name": "test111"
        },
        {
          "code": "RT0008",
          "name": "test11"
        }
      ],
      "identity": "RT0008001",
      "name": "test111",
      "type": 1
    }
  ]
}
```

**结构参数：**

| 参数名          | 参数类型 | 参数描述                                           |
| --------------- | -------- | -------------------------------------------------- |
| identity        | string   | 标识                                               |
| type            | number   | 类型 1：基础资源类型 2：自定义资源类型 3：资源标签 |
| name            | string   | 名称                                               |
| parentCodeChain | string[] | 依赖父类编号数组                                   |
| parentChain     | {}[]     | 依赖父类数组                                       |



**启用，暂停某个运营分类** <font color='blue'>**/v2/resources/operation-categories/updateStatus**</font>	**POST**	**JSON**

| 参数名 | 参数类型 | 参数描述             | 必选 |
| ------ | -------- | -------------------- | ---- |
| code   | string   | 运营分类编号         | 是   |
| status | number   | 状态 1：启用 2：暂停 | 是   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": null
}
```



**批量启用，暂停运营分类** <font color='blue'>**/v2/resources/operation-categories/updateStatusBatch**</font>	**POST**	**JSON**

| 参数名 | 参数类型 | 参数描述             | 必选 |
| ------ | -------- | -------------------- | ---- |
| codes  | string[] | 运营分类编号数组     | 是   |
| status | number   | 状态 1：启用 2：暂停 | 是   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": null
}
```



**根据编号取运营分类** <font color='blue'>**/v2/resources/operation-categories/getInfoByCode**</font>	**GET**	**QUERY**

| 参数名 | 参数类型 | 参数描述     | 必选 |
| ------ | -------- | ------------ | ---- |
| code   | string   | 运营分类编号 | 是   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": {
    "code": "OC002001003",
    "name": "test03",
    "parentCode": "OC002001",
    "sources": [
      {
        "parentCodeChain": [
          "RT0004002001001",
          "RT0004002001",
          "RT0004002",
          "RT0004"
        ],
        "parentChain": [
          {
            "code": "RT0004002001001",
            "name": "玩具"
          },
          {
            "code": "RT0004002001",
            "name": "图片2"
          },
          {
            "code": "RT0004002",
            "name": "摄影6"
          },
          {
            "code": "RT0004",
            "name": "图片"
          }
        ],
        "identity": "RT0004002001001",
        "name": "玩具",
        "type": 1
      },
      {
        "parentCodeChain": [
          "RT0008001",
          "RT0008"
        ],
        "parentChain": [
          {
            "code": "RT0008001",
            "name": "test111"
          },
          {
            "code": "RT0008",
            "name": "test11"
          }
        ],
        "identity": "RT0008001",
        "name": "test111",
        "type": 1
      },
      {
        "parentCodeChain": [
          "RT0005"
        ],
        "parentChain": [
          {
            "code": "RT0005",
            "name": "摄影"
          }
        ],
        "identity": "RT0005",
        "name": "摄影",
        "type": 1
      },
      {
        "parentCodeChain": [
          "RT0004003",
          "RT0004"
        ],
        "parentChain": [
          {
            "code": "RT0004003",
            "name": "摄影7"
          },
          {
            "code": "RT0004",
            "name": "图片"
          }
        ],
        "identity": "RT0004003",
        "name": "摄影7",
        "type": 1
      }
    ],
    "resourceCount": 0,
    "priority": 3,
    "status": 1,
    "startTime": null,
    "parentName": "test1"
  }
}
```


**结构参数：**

| 参数名        | 参数类型                                                     | 参数描述             |
| ------------- | ------------------------------------------------------------ | -------------------- |
| parentCode    | string                                                       | 父类型编号           |
| parentName    | string                                                       | 父类型名称           |
| code          | string                                                       | 编号                 |
| name          | string                                                       | 名称                 |
| sources       | {"identity":string," type":number,"name":string,"parentCodeChain":string[],"parentChain":{}[]}[] | 映射数组             |
| resourceCount | number                                                       | 关联的资源数         |
| priority      | number                                                       | 权重                 |
| status        | number                                                       | 状态 1：开启 2：停用 |
| startTime     | Date                                                         | 开启时间             |



**列出运营分类分组排序** <font color='blue'>**/v2/resources/operation-categories/listSimpleByGroup**</font>	**GET**	**QUERY**

| 参数名 | 参数类型 | 参数描述 | 必选 |
| ------ | -------- | -------- | ---- |
| name   | string   | 名称     | 否   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": [
    {
      "code": "RT0002",
      "parentCode": "",
      "name": "摄影",
      "resourceCount": 0,
      "priority": 1,
      "children": [
        {
          "code": "RT0003",
          "parentCode": "RT0002",
          "name": "高清",
          "resourceCount": 0,
          "priority": 1,
          "children": []
        }
      ]
    }
  ]
}
```

**结构参数：**

| 参数名        | 参数类型 | 参数描述     |
| ------------- | -------- | ------------ |
| parentCode    | string   | 父类型编号   |
| resourceCount | number   | 关联资源数量 |
| code          | string   | 编号         |
| name          | string   | 名称         |
| priority      | number   | 权重         |
| children      | {}[]     | 子类型数组   |



**修改权重** <font color='blue'>**/v2/resources/operation-categories/updatePriority**</font>	**POST**	**JSON**

| 参数名   | 参数类型 | 参数描述     | 必选 |
| -------- | -------- | ------------ | ---- |
| code     | string   | 资源类型编号 | 是   |
| priority | number   | 权重         | 是   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": null
}
```



**删除运营分类** <font color='blue'>**/v2/resources/operation-categories/delete**</font>	**POST**	**JSON**

| 参数名 | 参数类型 | 参数描述     | 必选 |
| ------ | -------- | ------------ | ---- |
| code   | string   | 资源类型编号 | 是   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": null
}
```
