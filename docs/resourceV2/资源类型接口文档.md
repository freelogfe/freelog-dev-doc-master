**创建资源类型** <font color='blue'>**/v2/resources/types/create**</font>	**POST**	**JSON**

| 参数名     | 参数类型 | 参数描述                               | 必选 |
| ---------- | -------- | -------------------------------------- | ---- |
| name       | string   | 名称                                   | 是   |
| parentCode | string   | 父类型编号，没有父类型填空字符串       | 是   |
| formats    | string[] | 格式数组                               | 否   |
| attrs      | string[] | 属性数组                               | 否   |
| priority   | number   | 权重                                   | 是   |
| status     | number   | 状态 1：开启 2：停用                   | 是   |
| category   | number   | 种类 1：基础资源类型 2：自定义资源类型 | 是   |
| startTime  | Date     | 开启时间                               | 否   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": null
}
```



**列出资源类型** <font color='blue'>**/v2/resources/types/list**</font>	**GET**	**QUERY**

| 参数名     | 参数类型 | 参数描述                               | 必选 |
| ---------- | -------- | -------------------------------------- | ---- |
| skip       | number   | 跳过的数目                             | 是   |
| limit      | number   | 查询的数目                             | 是   |
| status     | number   | 状态 1：启用 2：停用                   | 否   |
| parentCode | string   | 父类型编号                             | 否   |
| codeOrName | string   | 编号或者名称                           | 否   |
| category   | number   | 种类 1：基础资源类型 2：自定义资源类型 | 否   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": {
    "num": 2,
    "resourceTypes": {
      "skip": 0,
      "limit": 10,
      "totalItem": 2,
      "dataList": [
        {
          "parentCode": "",
          "formats": [],
          "attrs": [],
          "resourceCount": 0,
          "_id": "63f333d24f939a144811b60b",
          "code": "RT0004",
          "name": "图片",
          "priority": 1,
          "status": 2,
          "category": 1,
          "createDate": "2023-02-20T08:48:18.469Z",
          "updateDate": "2023-02-20T09:56:20.866Z"
        },
        {
          "parentCode": "RT0004",
          "formats": [
            ".jpg",
            ".png"
          ],
          "attrs": [
            "file_size",
            "mime"
          ],
          "resourceCount": 0,
          "_id": "63f335cf4f939a144811b60f",
          "code": "RT0005",
          "name": "摄影",
          "priority": 2,
          "status": 2,
          "category": 1,
          "createDate": "2023-02-20T08:56:47.700Z",
          "updateDate": "2023-02-20T09:56:20.888Z",
          "startTime": "2023-02-19T16:00:00.000Z",
          "parentName": "图片"
        }
      ]
    }
  }
}
```

**结构参数：**

| 参数名        | 参数类型 | 参数描述                               |
| ------------- | -------- | -------------------------------------- |
| parentCode    | string   | 父类型编号                             |
| parentName    | string   | 父类型名称                             |
| formats       | string[] | 格式数组                               |
| attrs         | string[] | 属性数组                               |
| resourceCount | number   | 关联资源数量                           |
| code          | string   | 编号                                   |
| name          | string   | 名称                                   |
| priority      | number   | 权重                                   |
| status        | number   | 状态 1：开启 2：停用                   |
| category      | number   | 种类 1：基础资源类型 2：自定义资源类型 |
| startTime     | Date     | 开启时间                               |



**编辑资源类型** <font color='blue'>**/v2/resources/types/update**</font>	**POST**	**JSON**

| 参数名     | 参数类型 | 参数描述             | 必选 |
| ---------- | -------- | -------------------- | ---- |
| code       | string   | 资源类型编号         | 是   |
| name       | string   | 名称                 | 是   |
| parentCode | string   | 父类型编号           | 是   |
| formats    | string[] | 格式数组             | 是   |
| attrs      | string[] | 属性数组             | 是   |
| priority   | number   | 权重                 | 是   |
| status     | number   | 状态 1：开启 2：停用 | 是   |
| startTime  | Date     | 开启时间             | 否   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": null
}
```



**简单根据父类型列出资源类型** <font color='blue'>**/v2/resources/types/listSimpleByParentCode**</font>	**GET**	**QUERY**

| 参数名     | 参数类型 | 参数描述                       | 必选 |
| ---------- | -------- | ------------------------------ | ---- |
| parentCode | string   | 父类型编号                     | 是   |
| name       | string   | 名称（模糊匹配）               | 否   |
| category   | number   | 分类 1：基础类型 2：自定义类型 | 否   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": [
    {
      "resourceCount": 0,
      "_id": "64197c0895b75601f4a2913e",
      "code": "CRT006000001",
      "name": "抖音小视频"
    },
    {
      "resourceCount": 9,
      "_id": "6414349ecbdff544045e75b1",
      "code": "RT006003",
      "name": "短视频"
    },
    {
      "resourceCount": 2,
      "_id": "6414349ecbdff544045e75b8",
      "code": "RT006004",
      "name": "长视频"
    }
  ]
}
```

**结构参数：**

| 参数名        | 参数类型 | 参数描述     |
| ------------- | -------- | ------------ |
| code          | string   | 资源类型编号 |
| name          | string   | 名称         |
| resourceCount | number   | 资源依赖数   |



**取某资源类型的属性** <font color='blue'>**/v2/resources/types/getAttrsByCode**</font>	**GET**	**QUERY**

| 参数名 | 参数类型 | 参数描述     | 必选 |
| ------ | -------- | ------------ | ---- |
| code   | string   | 资源类型编号 | 是   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": [
    {
      "format": 1,
      "insertMode": 1,
      "dependencies": 0,
      "_id": "63f330b7a743752d6897dbfc",
      "group": 1,
      "name": "大小",
      "key": "file_size",
      "createDate": "2023-02-20T08:35:03.925Z",
      "updateDate": "2023-02-27T09:34:24.969Z"
    }
  ]
}
```

**结构参数：**

| 参数名       | 参数类型 | 参数描述                                              |
| ------------ | -------- | ----------------------------------------------------- |
| name         | string   | 名称                                                  |
| note         | string   | 备注                                                  |
| key          | string   | 键                                                    |
| format       | number   | 值格式 1：文本 2：数值  3：时间 4：日期 5：日期和时间 |
| insertMode   | number   | 录入方式 1：系统解析                                  |
| dependencies | number   | 依赖数                                                |



**启用，暂停某个资源类型** <font color='blue'>**/v2/resources/types/updateStatus**</font>	**POST**	**JSON**

| 参数名 | 参数类型 | 参数描述             | 必选 |
| ------ | -------- | -------------------- | ---- |
| code   | string   | 资源类型编号         | 是   |
| status | number   | 状态 1：启用 2：暂停 | 是   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": null
}
```



**批量启用，暂停资源类型** <font color='blue'>**/v2/resources/types/updateStatusBatch**</font>	**POST**	**JSON**

| 参数名 | 参数类型 | 参数描述             | 必选 |
| ------ | -------- | -------------------- | ---- |
| codes  | string[] | 资源类型编号数组     | 是   |
| status | number   | 状态 1：启用 2：暂停 | 是   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": null
}
```



**根据编号取资源类型** <font color='blue'>**/v2/resources/types/getInfoByCode**</font>	**GET**	**QUERY**

| 参数名 | 参数类型 | 参数描述     | 必选 |
| ------ | -------- | ------------ | ---- |
| code   | string   | 资源类型编号 | 是   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": {
    "code": "RT0005",
    "name": "摄影",
    "parentCode": "RT0004",
    "formats": [
      ".jpg",
      ".png"
    ],
    "attrs": [
      "file_size",
      "mime"
    ],
    "priority": 2,
    "status": 2,
    "category": 1,
    "startTime": "2023-02-19T16:00:00.000Z",
    "parentName": "图片"
  }
}
```


**结构参数：**

| 参数名        | 参数类型 | 参数描述                               |
| ------------- | -------- | -------------------------------------- |
| parentCode    | string   | 父类型编号                             |
| parentName    | string   | 父类型名称                             |
| formats       | string[] | 格式数组                               |
| attrs         | string[] | 属性数组                               |
| resourceCount | number   | 关联资源数量                           |
| code          | string   | 编号                                   |
| name          | string   | 名称                                   |
| priority      | number   | 权重                                   |
| status        | number   | 状态 1：开启 2：停用                   |
| category      | number   | 种类 1：基础资源类型 2：自定义资源类型 |
| startTime     | Date     | 开启时间                               |



**列出资源类型分组排序** <font color='blue'>**/v2/resources/types/listSimpleByGroup**</font>	**GET**	**QUERY**

| 参数名     | 参数类型 | 参数描述                               | 必选 |
| ---------- | -------- | -------------------------------------- | ---- |
| codeOrName | string   | 编号或者名称                           | 否   |
| category   | number   | 种类 1：基础资源类型 2：自定义资源类型 | 否   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": [
    {
      "code": "RT0004",
      "parentCode": "",
      "name": "图片",
      "resourceCount": 0,
      "priority": 1,
      "category": 1,
      "children": [
        {
          "code": "RT0004002",
          "parentCode": "RT0004",
          "name": "摄影6",
          "resourceCount": 0,
          "priority": 100,
          "category": 1,
          "children": [
            {
              "code": "RT0004002001",
              "parentCode": "RT0004002",
              "name": "图片2",
              "resourceCount": 0,
              "priority": 100,
              "category": 1,
              "children": [
                {
                  "code": "RT0004002001001",
                  "parentCode": "RT0004002001",
                  "name": "玩具",
                  "resourceCount": 0,
                  "priority": 10,
                  "category": 1,
                  "children": []
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "code": "RT0006",
      "parentCode": "",
      "name": "test",
      "resourceCount": 0,
      "priority": 2,
      "category": 1,
      "children": [
        {
          "code": "RT0007",
          "parentCode": "RT0006",
          "name": "test1",
          "resourceCount": 0,
          "priority": 4,
          "category": 1,
          "children": [
            {
              "code": "RT0008",
              "parentCode": "RT0007",
              "name": "test11",
              "resourceCount": 0,
              "priority": 5,
              "category": 1,
              "children": [
                {
                  "code": "RT0008001",
                  "parentCode": "RT0008",
                  "name": "test111",
                  "resourceCount": 0,
                  "priority": 6,
                  "category": 1,
                  "children": []
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
```

**结构参数：**

| 参数名        | 参数类型 | 参数描述                               |
| ------------- | -------- | -------------------------------------- |
| parentCode    | string   | 父类型编号                             |
| resourceCount | number   | 关联资源数量                           |
| code          | string   | 编号                                   |
| name          | string   | 名称                                   |
| priority      | number   | 权重                                   |
| category      | number   | 种类 1：基础资源类型 2：自定义资源类型 |
| children      | {}[]     | 子类型数组                             |



**修改权重** <font color='blue'>**/v2/resources/types/updatePriority**</font>	**POST**	**JSON**

| 参数名   | 参数类型 | 参数描述     | 必选 |
| -------- | -------- | ------------ | ---- |
| code     | string   | 资源类型编号 | 是   |
| priority | number   | 权重         | 是   |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": null
}
```



**简单列出最近使用的资源类型** <font color='blue'>**/v2/resources/types/listSimple4Recently**</font>	**GET**	**QUERY**

| 参数名 | 参数类型 | 参数描述 | 必选 |
| ------ | -------- | -------- | ---- |
|        |          |          |      |

**返回结构：**

```
{
  "ret": 0,
  "errCode": 0,
  "errcode": 0,
  "msg": "success",
  "data": [
    {
      "_id": "6414349dcbdff544045e754d",
      "code": "RT001",
      "name": "主题"
    },
    {
      "_id": "6414349dcbdff544045e7559",
      "code": "RT003",
      "name": "阅读"
    },
    {
      "_id": "6414349dcbdff544045e7560",
      "code": "RT003001",
      "name": "文章"
    },
    {
      "_id": "6414349dcbdff544045e756d",
      "code": "RT004",
      "name": "音频"
    },
    {
      "_id": "6414349dcbdff544045e757b",
      "code": "RT004002",
      "name": "音乐"
    },
    {
      "_id": "6414349ecbdff544045e7588",
      "code": "RT005",
      "name": "图片"
    },
    {
      "_id": "6414349ecbdff544045e758f",
      "code": "RT005001",
      "name": "照片"
    },
    {
      "_id": "6414349ecbdff544045e7596",
      "code": "RT005002",
      "name": "插画"
    },
    {
      "_id": "6414349ecbdff544045e759c",
      "code": "RT006",
      "name": "视频"
    },
    {
      "_id": "6414349ecbdff544045e75b1",
      "code": "RT006003",
      "name": "短视频"
    }
  ]
}
```

**结构参数：**

| 参数名        | 参数类型 | 参数描述     |
| ------------- | -------- | ------------ |
| code          | string   | 资源类型编号 |
| name          | string   | 名称         |
| resourceCount | number   | 资源依赖数   |
