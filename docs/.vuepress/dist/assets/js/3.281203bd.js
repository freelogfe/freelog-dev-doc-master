(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{373:function(s,a,t){s.exports=t.p+"assets/img/image-20230206113956578.758586c7.png"},374:function(s,a,t){s.exports=t.p+"assets/img/image-20230206114604109.9737f568.png"},375:function(s,a,t){s.exports=t.p+"assets/img/image-20230206143849057.7382a121.png"},376:function(s,a,t){s.exports=t.p+"assets/img/image-20230206144655902.8efb72e1.png"},377:function(s,a,t){s.exports=t.p+"assets/img/image-20230206144840965.a60e8722.png"},378:function(s,a,t){s.exports=t.p+"assets/img/image-20230206145352749.f18ac314.png"},379:function(s,a,t){s.exports=t.p+"assets/img/image-20230206152715496.663f677b.png"},380:function(s,a,t){s.exports=t.p+"assets/img/image-20230206163203914.caa3a33b.png"},381:function(s,a,t){s.exports=t.p+"assets/img/image-20230206164520229.a17a33e8.png"},382:function(s,a,t){s.exports=t.p+"assets/img/image-20230206170927517.e8dfad30.png"},383:function(s,a,t){s.exports=t.p+"assets/img/image-20230206171000107.a0fded89.png"},384:function(s,a,t){s.exports=t.p+"assets/img/image-20230206171302979.cc4a0205.png"},385:function(s,a,t){s.exports=t.p+"assets/img/image-20230206171846549.eca52a9d.png"},386:function(s,a,t){s.exports=t.p+"assets/img/image-20230206174448793.8fe125fc.png"},387:function(s,a,t){s.exports=t.p+"assets/img/image-20230207112414130.2ff1ad2e.png"},388:function(s,a,t){s.exports=t.p+"assets/img/image-20230207114041686.32be1934.png"},389:function(s,a,t){s.exports=t.p+"assets/img/image-20230207114243371.eae39a77.png"},398:function(s,a,t){"use strict";t.r(a);var e=t(46),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("##CICD使用说明")]),s._v(" "),e("h3",{attrs:{id:"_1-登录到jenkins控制台http-jenkins-testfreelog-com"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-登录到jenkins控制台http-jenkins-testfreelog-com"}},[s._v("#")]),s._v(" 1. 登录到jenkins控制台http://jenkins.testfreelog.com/")]),s._v(" "),e("h3",{attrs:{id:"_2-配置任务项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置任务项"}},[s._v("#")]),s._v(" 2. 配置任务项")]),s._v(" "),e("h4",{attrs:{id:"_2-1-新建任务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-新建任务"}},[s._v("#")]),s._v(" 2.1 新建任务")]),s._v(" "),e("p",[s._v("​\t"),e("img",{attrs:{src:t(373),alt:"image-20230206113956578"}})]),s._v(" "),e("h4",{attrs:{id:"_2-2-构建一个自由风格的软件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-构建一个自由风格的软件"}},[s._v("#")]),s._v(" 2.2 构建一个自由风格的软件")]),s._v(" "),e("p",[s._v("​\t"),e("img",{attrs:{src:t(374),alt:"image-20230206114604109"}})]),s._v(" "),e("h4",{attrs:{id:"_2-3-配置项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-配置项目"}},[s._v("#")]),s._v(" 2.3 配置项目")]),s._v(" "),e("h5",{attrs:{id:"_1-节点设置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-节点设置"}},[s._v("#")]),s._v(" - 1 节点设置")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("jenkins运行在k8s容器中，而容器的环境有限，如果我们的项目运行所需要的环境复杂，就可以将计算机实例作为节点，让项目在该计算机上运行；例如，我们可以将该项目运行在slave-03节点上；\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("​\t"),e("img",{attrs:{src:t(375),alt:"image-20230206143849057"}})]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("在 系统配置 >> 节点管理 中，可以看到我们已经配置的节点；master是jenkins所在的环境，可能直接运行在计算机实例上，也可能像我们一样运行在容器中；\nslave-03就是我们新添加的节点，运行在我们的3号机实例上；\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("​\t"),e("img",{attrs:{src:t(376),alt:"image-20230206144655902"}})]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("远程工作目录：即节点的工作空间，节点所在的计算机实例中的指定文件夹；\n配置节点所在的计算机实例ip地址，证书（也可以使用其他方式做验证）；\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("​\t"),e("img",{attrs:{src:t(377),alt:"image-20230206144840965"}})]),s._v(" "),e("p",[s._v("​\t"),e("img",{attrs:{src:t(378),alt:"image-20230206145352749"}})]),s._v(" "),e("p",[s._v("​\t"),e("img",{attrs:{src:t(379),alt:"image-20230206152715496"}})]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("需要注意的是，在jenkins连接节点之前，要保证节点所在的计算机实例是有jdk环境的（jenkins是java开发的）；\n另外，在节点上运行项目，意味着项目直接运行在节点所在的计算机实例中，所以实例需要有项目所要的运行环境，比如说git工具；\n\nyum install -y java-11-openjdk-devel.x86_64\nyum install -y git\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("​\t"),e("img",{attrs:{src:t(380),alt:"image-20230206163203914"}})]),s._v(" "),e("h5",{attrs:{id:"_2-源码管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-源码管理"}},[s._v("#")]),s._v(" - 2 源码管理")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("Git地址 就是我们pull时的地址，同git remote add [name] [url]中的url地址；\n下面的源码库管理器中的 URL 是项目所在的地址；\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("​\t"),e("img",{attrs:{src:t(381),alt:"image-20230206164520229"}})]),s._v(" "),e("p",[e("font",{attrs:{color:"red"}},[s._v("现在我们先保存构建一次看看效果（我们选择在刚新建的slave-02节点上执行）")])],1),s._v(" "),e("p",[s._v("​\t"),e("img",{attrs:{src:t(382),alt:"image-20230206170927517"}})]),s._v(" "),e("p",[s._v("​\t"),e("img",{attrs:{src:t(383),alt:"image-20230206171000107"}})]),s._v(" "),e("h5",{attrs:{id:"_3-构建触发器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-构建触发器"}},[s._v("#")]),s._v(" - 3 构建触发器")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("在jenkins中配置Github的触发器很简单，只需要勾选 GitHub hook trigger for GITScm polling 即可；\n在Github项目中配置钩子，填写我们jenkins的回调地址；\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("​\t"),e("img",{attrs:{src:t(384),alt:"image-20230206171302979"}})]),s._v(" "),e("p",[s._v("​\t"),e("img",{attrs:{src:t(385),alt:"image-20230206171846549"}})]),s._v(" "),e("h5",{attrs:{id:"_4-构建步骤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-构建步骤"}},[s._v("#")]),s._v(" - 4 构建步骤")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("在pull代码之后，执行自定义的构建步骤，例如编译；\n我们在这里要做的是打包项目镜像，所以创建了如下的shell命令；\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("​\t"),e("img",{attrs:{src:t(386),alt:"image-20230206174448793"}})]),s._v(" "),e("p",[e("font",{attrs:{color:"red"}},[s._v("构建结果如下，分别是jenkins构建日志，容器构建镜像，阿里云容器镜像更新日志")])],1),s._v(" "),e("p",[s._v("​\t"),e("img",{attrs:{src:t(387),alt:"image-20230207112414130"}}),s._v("\n​\t"),e("img",{attrs:{src:t(388),alt:"image-20230207114041686"}}),s._v("\n​\t"),e("img",{attrs:{src:t(389),alt:"image-20230207114243371"}})]),s._v(" "),e("h3",{attrs:{id:"_3-补充"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-补充"}},[s._v("#")]),s._v(" 3. 补充")])])}),[],!1,null,null,null);a.default=n.exports}}]);